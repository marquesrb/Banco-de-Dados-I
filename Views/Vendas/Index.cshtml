@model List<prjGura.Models.Vendum>

<div class="container mt-4">
    <h1>Vendas</h1>

    <!-- Formulário de Filtro -->
    <div class="mb-3">
        <form asp-action="Index" method="get">
            <div class="row align-items-end">
                <div class="col-md-6">
                    <input type="text" name="id" placeholder="Cpf Cliente..." class="form-control" />
                </div>

                <div class="col-md-3">
                    <button type="submit" class="btn btn-primary w-100 mt-2 mt-md-0">Filtrar</button>
                </div>
            </div>
        </form>
    </div>

    <!-- Tabela de Vendas -->
    <table class="table table-striped table-hover">
        <thead class="thead-light">
            <tr>
                <th>ID</th>
                <th>Valor Total</th>
                <th>Data</th>
                <th>Cliente</th>
                <th>Serviços</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var venda in Model)
            {
                <tr>
                    <td>@venda.Id</td>
                    <td>@venda.Valortotal</td>
                    <td>@venda.Data.ToString("dd/MM/yyyy")</td>
                    <td>@venda.Idcliente</td>
                    <td>
                        <ul class="list-unstyled">
                            @foreach (var servico in venda.Servicos)
                            {
                                <li>@servico.Tipo - @servico.Preco</li>
                            }
                        </ul>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
